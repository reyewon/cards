/* ===== Design system (inspired by top-tier mobile apps with an 8pt grid) ===== */
:root{
  --bg:#0f1014;           /* deep slate */
  --panel:#1a1b21;        /* card base */
  --panel-2:#23242a;      /* darker card */
  --ink:#ffffff;          /* text */
  --ink-2:#cfd1d6;        /* muted */
  --line:#333543;         /* hairline */

  --accent-pink:#ff1493;  /* site brand */
  --accent-cyan:#00ffff;  /* site brand */
  --accent-lime:#9be15a;  /* friends cue */

  /* mode palette dynamically flips via body class */
  --primary:var(--accent-cyan);
  --accent:var(--accent-pink);

  /* type scale */
  --fz-1:14px; --fz-2:16px; --fz-3:18px; --fz-4:22px; --fz-5:28px;
  --lh-1:20px; --lh-2:24px; --lh-3:28px; --lh-4:32px; --lh-5:36px;

  /* spacing (8pt grid) */
  --s-1:8px; --s-2:12px; --s-3:16px; --s-4:24px; --s-5:32px; --s-6:48px;

  --radius:16px; --radius-sm:10px; --shadow:0 12px 30px rgba(0,0,0,.45);
}
body.mode-couple{ --primary:#00ffff; --accent:#ff1493; }
body.mode-friends{ --primary:#9be15a; --accent:#00ffff; }
body.mode-group{  --primary:#ff1493; --accent:#9be15a; }

*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
  background:
    radial-gradient(900px 700px at 15% 0%, rgba(0,255,255,.07), transparent),
    radial-gradient(900px 700px at 90% 100%, rgba(255,20,147,.07), transparent),
    var(--bg);
  color:var(--ink);
  margin:0;
  padding:var(--s-5) var(--s-3) calc(120px + var(--s-3));
}

/* ===== Layout shells ===== */
.shell{ width:100%; max-width:1040px; margin:0 auto; }
.card{
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:var(--s-5);
}
.page-title{ font-size:var(--fz-5); line-height:var(--lh-5); margin:var(--s-3) 0 var(--s-4); }
.section-title{ font-size:var(--fz-4); line-height:var(--lh-4); margin:0 0 var(--s-3); }

/* welcome grid: balanced columns, no weird empty right space */
.welcome-grid{ display:grid; gap:var(--s-4); grid-template-columns:repeat(2, minmax(320px, 1fr)); align-items:start; }
@media (max-width: 900px){ .welcome-grid{ grid-template-columns:1fr; } }

/* ===== Stacks for rhythm ===== */
.stack-sm>*+*{ margin-top:var(--s-2); }
.stack-lg>*+*{ margin-top:var(--s-3); }

/* ===== Mode selection cards ===== */
.mode-selection{ display:grid; gap:var(--s-3); }
.mode-btn{
  display:grid; gap:var(--s-2);
  text-align:left; padding:var(--s-4);
  background:var(--panel); border:1px solid var(--line); border-radius:var(--radius);
  color:var(--ink); cursor:pointer;
  transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.mode-btn:hover{ transform:translateY(-2px); box-shadow:0 14px 28px rgba(0,0,0,.35); border-color:var(--primary); }
.mode-btn__title{ color:var(--accent); font-weight:700; font-size:var(--fz-3); }
.mode-btn__copy{ color:var(--ink-2); font-size:var(--fz-2); line-height:var(--lh-2); }

/* ===== Controls panel ===== */
.welcome-controls{ display:grid; gap:var(--s-3); }
.panel{ background:var(--panel); border:1px solid var(--line); border-radius:var(--radius); padding:var(--s-4); }
.panel-title{ font-size:var(--fz-3); color:var(--primary); }
.panel-help{ color:var(--ink-2); margin:var(--s-1) 0 var(--s-2); font-size:var(--fz-1); }
.link-cta{ color:var(--primary); text-decoration:none; font-weight:700; display:inline-block; padding:var(--s-2) 0; }

/* original checkboxes are hidden; JS creates pill buttons */
.toggle{ display:none; }
.pills{ display:flex; gap:var(--s-2); flex-wrap:wrap; }
.pills button{ border-radius:999px; padding:10px 16px; min-width:96px; border:1px solid var(--line); cursor:pointer; font-weight:700; }
.pills button[aria-pressed="true"]{ background:var(--primary); color:#0d0f10; }

/* ===== Forms ===== */
.input-grid{ display:grid; gap:var(--s-3); grid-template-columns:repeat(2, minmax(220px,1fr)); }
@media (max-width: 720px){ .input-grid{ grid-template-columns:1fr; } }
.field{ display:grid; gap:var(--s-1); }
.field>span{ color:var(--ink-2); font-size:var(--fz-1); }
.field input,.field select,.field textarea{
  background:var(--panel); color:var(--ink);
  border:1px solid var(--line); border-radius:12px; padding:12px 14px; font-size:var(--fz-2);
}

.add-player{ display:grid; grid-template-columns:1fr 64px; gap:var(--s-2); margin:var(--s-3) 0; }
.list{ list-style:none; margin:0; padding:0; border:1px solid var(--line); border-radius:12px; overflow:hidden; }
.list li{ display:grid; grid-template-columns:1fr 28px; gap:var(--s-2); align-items:center; padding:12px 14px; border-bottom:1px solid var(--line); }
.list li:last-child{ border-bottom:none; }
.remove-player-btn{ background:none; border:none; color:var(--accent); font-size:20px; cursor:pointer; }

/* ===== Buttons ===== */
.btn{ border:none; border-radius:12px; padding:12px 16px; font-weight:700; cursor:pointer; letter-spacing:.2px; }
.btn.primary{ background:var(--primary); color:#0d0f10; }
.btn.accent{ background:var(--accent); color:#0d0f10; }
.btn.ghost{ background:transparent; color:var(--ink); border:1px solid var(--line); }
.btn.tone{ background:var(--panel-2); color:var(--ink); border:1px solid var(--line); }
.btn.plus{ font-size:24px; line-height:1; }
.actions{ display:flex; gap:var(--s-2); }
.actions.end{ justify-content:flex-end; margin-top:var(--s-3); }

/* ===== Game header & cards ===== */
.home-link{ position:absolute; top:var(--s-3); left:var(--s-3); line-height:0; }
#persistentLogo{ width:44px; height:auto; }
.game-header{ display:flex; gap:var(--s-2); align-items:center; margin:var(--s-4) 0 var(--s-2); flex-wrap:wrap; }
.badge{ padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid var(--line); }
.badge.mode{ background:rgba(0,255,255,.12); border-color:var(--primary); }
.badge.subtle{ margin-left:auto; color:var(--ink-2); }
.turn{ font-size:var(--fz-2); color:var(--ink-2); }
.meta{ display:flex; gap:var(--s-2); align-items:center; min-height:28px; margin-bottom:var(--s-2); }
.chip{ border:1px solid var(--line); border-radius:999px; padding:4px 10px; font-size:12px; color:var(--ink-2); }
.chip.warn{ border-color:#c98a4a; color:#ffdcb0; }

.card-content{
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015));
  border:1px solid var(--line); border-left:6px solid var(--primary);
  border-radius:16px; padding:var(--s-5);
  min-height:120px; display:flex; align-items:center; justify-content:center; text-align:center;
  font-size:var(--fz-3); line-height:var(--lh-3);
}
.card-content.forfeit{ border-left-color:var(--accent); background:linear-gradient(180deg, rgba(255,20,147,.08), rgba(255,20,147,.04)); font-weight:700; }

/* Timer */
.timer{ display:flex; gap:var(--s-2); align-items:center; justify-content:center; margin:var(--s-2) 0 0; }
#timerDisplay{ font-variant-numeric:tabular-nums; letter-spacing:.5px; }

/* Sticky controls â€” strong hierarchy */
.sticky{ position:fixed; left:0; right:0; bottom:0; z-index:20;
  display:grid; grid-template-columns:repeat(5, 1fr); gap:var(--s-2);
  padding:10px var(--s-3);
  background:linear-gradient(180deg, rgba(15,16,20,.1), rgba(15,16,20,.9) 40%);
  backdrop-filter:blur(4px);
}
.sticky .btn.primary,.sticky .btn.accent{ font-size:16px; padding:16px 18px; }
.sticky .btn.tone,.sticky .btn.ghost{ font-size:13px; padding:10px 12px; opacity:.95; }
@media (max-width:560px){ .sticky{ grid-template-columns:repeat(3,1fr); grid-auto-rows:44px; } }

.hint{ text-align:center; color:var(--ink-2); font-size:12px; margin-top:var(--s-2); }

/* Footer */
.site-footer{ margin-top:var(--s-4); text-align:center; color:var(--ink-2); }
.site-footer a{ color:var(--primary); text-decoration:none; }

/* Particles */
#background-particles{ position:fixed; inset:0; overflow:hidden; pointer-events:none; z-index:-1; }
.particle{ position:absolute; border-radius:50%; opacity:0; animation:float 20s infinite linear; }
.particle.pink{ background-color:var(--accent); }
.particle.cyan{ background-color:var(--primary); }
.particle:nth-child(1){ width:12px; height:12px; left:15%; animation-delay:0s; animation-duration:18s; }
.particle:nth-child(2){ width:8px; height:8px; left:30%; animation-delay:2s; animation-duration:22s; }
.particle:nth-child(3){ width:10px; height:10px; left:45%; animation-delay:5s; animation-duration:20s; }
.particle:nth-child(4){ width:15px; height:15px; left:60%; animation-delay:1s; animation-duration:17s; }
.particle:nth-child(5){ width:6px; height:6px; left:70%; animation-delay:3s; animation-duration:19s; }
.particle:nth-child(6){ width:9px; height:9px; left:80%; animation-delay:6s; animation-duration:21s; }
.particle:nth-child(7){ width:13px; height:13px; left:10%; animation-delay:4s; animation-duration:23s; }
.particle:nth-child(8){ width:7px; height:7px; left:50%; animation-delay:7s; animation-duration:18s; }
@keyframes float{ 0%{ transform:translateY(110vh); opacity:0 } 10%{ opacity:.6 } 90%{ opacity:.6 } 100%{ transform:translateY(-20vh); opacity:0 } }

/* Dialog */
.dialog{ border:1px solid var(--line); border-radius:14px; background:var(--panel); color:var(--ink); padding:var(--s-4); }
.dialog::backdrop{ background:rgba(0,0,0,.55); }
.dialog h3{ margin:0 0 var(--s-2); color:var(--primary); }
